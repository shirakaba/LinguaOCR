<html>
  <body>
    <div style="background-color: grey;">
      <h1>Result</h1>
      <div id="result"></div>
    </div>
    <div style="background-color: #8eb5c3; padding-bottom: 3px;">
      <h1>Image</h1>
      <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
        <img id="image" style="width: 98%; max-width: 400px; outline: 2px #8eb5c3 dotted;" src="http://localhost:6060/image.png">
      </div>
    </div>
    <script src="http://localhost:6060/tesseract.js"></script>
    <script>
      window.Tesseract = Tesseract.create({
        workerPath: "http://localhost:6060/worker.js",
        langPath: "http://localhost:6060/data/",
        corePath: "http://localhost:6060/index.js",
      });

      window.Tesseract = Tesseract.create({
        workerPath: "http://localhost:6060/worker.js",
        langPath: "http://localhost:6060/data/",
        corePath: "http://localhost:6060/index.js",
      });
      function recognize(language) {
        let canvas = document.createElement("canvas");
        let context = canvas.getContext("2d");
        let image = document.getElementById("image");
        
        canvas.width = image.width;
        canvas.height = image.height;
        context.drawImage(image, 0, 0 );
        let file = context.getImageData(0, 0, image.width, image.height);

        console.log("Recognising...");
        Tesseract.recognize(file, {"lang": language })
        .then(data => {
          console.log("RECOGNISED!");
          console.log(data);
          document.getElementById('result').innerHTML = data.html;
        });
      }
    </script>
  </body>
</html>